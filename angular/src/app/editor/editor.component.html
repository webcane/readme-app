<div class="home-page">
  <div class="container page" role="main">
    <div class="row">
      <div class="col col-md-12">
        <form [formGroup]="articleForm" (ngSubmit)="publish()">

          <div class="form-group">
            <label for="urlInput">Article URL</label>
            <input type="text" id="urlInput" class="form-control form-control-lg" placeholder="Article URL"
                   formControlName="url"/>
            <div *ngIf="url.invalid && (url.dirty || url.touched)" class="form-control-sm text-danger">
              <div *ngIf="url.errors.required">
                URL is required.
              </div>
              <div *ngIf="url.errors.minlength">
                Name must be at least 11 characters long.
              </div>
              <div *ngIf="url.errors.invalidUrl">
                Not a valid URL.
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="titleInput">Article title</label>
            <input type="text" id="titleInput" class="form-control" placeholder="Article title"
                   formControlName="title"/>
          </div>

          <div class="form-group">
            <label for="preambuleInput">Preambule</label>
            <textarea rows="8" id="preambuleInput" class="form-control" placeholder="What's this article about?"
                      formControlName="preambule">
            </textarea>
          </div>

          <fieldset class="form-group tags-input">
            <tag-input name="tagsInput"
                [theme]="'bootstrap'" 
                [formControlName]="'tags'"                 
                [addOnBlur]="true"
                [clearOnBlur]="true"
                [maxItems]="7">
                <tag-input-dropdown 
                  [displayBy]="'value'"  
                  [showDropdownIfEmpty]="true"
                  [autocompleteObservable]="existedTags">
                    <ng-template let-item="item">
                      {{ item.value }}
                    </ng-template>
                </tag-input-dropdown>
              </tag-input>
          </fieldset>

          <button type="submit" class="btn btn-lg pull-xs-right btn-primary"
                  [disabled]="articleForm.invalid">
            Publish Article
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

